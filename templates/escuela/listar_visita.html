{% extends 'base/base.html' %}

{% block content %}

  <canvas id="myChart" width="740" height="300"></canvas>

  <a class="btn btn-success btn-xs" href="{% url 'escuela:crear_visita' %}">Agregar</a>

  <table class="table table-striped table-hover">
	 <thead>
		  <tr>
  		  <th>#</th>
  			<th>Fecha</th>
  			<th>Titulo</th>
  			<th>Escuela</th>
  			<th>Tipo Visita</th>
  			<th>Objetivo</th>
  			<th>Descripcion</th>
  			<th>Avances</th>
		  </tr>
    </thead>
	 <tbody>
	 {% if object_list %}
	   {% for visita in object_list %}
		  <tr>
		    <td>{{ visita.id }}</td>
  			<td>{{ visita.fecha }}</td>
  			<td>{{ visita.titulo }}</td>
  			<td>{{ visita.escuela }}</td>
  			<td>{{ visita.tipo_visita }}</td>
  			<td>{{ visita.objetivo }}</td>
  			<td>{{ visita.descripcion }}</td>
  			<td>{{ visita.avances }}</td>

  			<td>
  				<a class="btn btn-primary btn-xs" href="#">Editar</a>
  				<a class="btn btn-danger btn-xs" href="#">Eliminar</a>
  			</td>
		</tr>
		{% endfor %}

		{% else %}
			<h1>No hay registros de visitas</h1>
		{% endif %}
	</tbody>
</table>

{% endblock %}

{% block scripts %}

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.1.1/Chart.min.js">
</script>

<script type="text/javascript">
$( document ).ready(function() {

  var data = {

  labels: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio"],

  datasets: [{
    label: "My First dataset",
    fillColor: "rgba(220,220,220,0.2)",
    strokeColor: "rgba(83,219,232,1)",
    pointColor: "rgba(220,220,220,1)",
    pointStrokeColor: "#fff",
    pointHighlightFill: "#fff",
    pointHighlightStroke: "rgba(220,220,220,1)",
    data: [65, 59, 80, 81, 56, 55, 40]
  },
  {
    label: "My Second dataset",
    fillColor: "rgba(151,187,205,0.2)",
    strokeColor: "rgba(151,187,205,1)",
    pointColor: "rgba(151,187,205,1)",
    pointStrokeColor: "#fff",
    pointHighlightFill: "#fff",
    pointHighlightStroke: "rgba(151,187,205,1)",
    data: [28, 48, 40, 19, 86, 27, 90]
  }]
};

var ctx = document.getElementById("myChart").getContext("2d");
var myLineChart = new Chart(ctx).Line(data, {
        responsive: false,
        maintainAspectRatio: false,
    tooltipFillColor : "rgba(0, 160,0,0.8)",
    bezierCurve: false

    });
});

</script>
{% endblock %}
